# はるアイコン鯖 鉄道網 名前付け規則について

はるアイコン鯖に存在する鉄道・航空路線や駅には、一部を除いて[A-Z0-9]からなるコードが付与されます。
路線には2文字、駅には3文字のコードが用いられます。
駅名や接続路線名から分離して、これらのコードを用いて路線や駅を識別します。

路線コード付与の対象となる路線は以下の条件を満たす必要があります。

* 旅客輸送用であること(貨物路線でないこと)。
* 路線に駅コードを有する駅が2つ以上が存在すること。

また、駅コード付与の対象となる駅は以下の条件を満たす必要があります。

* 旅客輸送用の駅であること。
* その駅を発着する1つ以上の旅客用路線が存在していること。
* 適切な停車・発進設備を有すること。
* 1ヶ所以上の出口、または、他路線への乗り換え口を有すること。

これらの条件を全て満たし、登録の対象となる路線や駅でも、路線の目的や規模、
その他様々な判断から登録が行われないこともあります。

## 路線コード

路線コードは、基本的には、1文字目が事業者(事実上の事業者を含む)、2文字目が路線名を表すように構成されています。

基本的に先願主義を取っています。登録対象となる路線にもかかわらず長期間登録の申告(または明示的な非登録申告)が無い
場合は、適切な路線コードを付与することがあります。

事業者コードや路線コードは一度付与されたものは変更できないということはありませんが、
他の路線が使用しているコードと重複するコードに変更することはできません。

1文字目2文字目ともに、事業者や路線名の頭文字やそれに準ずる文字を割り当てることを推奨しています。

たとえば、harutrak F線には `HF`(Harutrak F) が、はるレール城南線には `RJ`(haruRail Jounan) が割り当てられています。

### 特殊な事業者コード

特殊な事業者コードとして `Z` が用意されています。このコードは複数の事業者によって共有されます。
短距離路線や個人路線、発展途上の路線のみを有する事業体について、事業者コードの圧縮を目的として用いられます。

たとえば、ふりかけ鉄道 Capital Lineは `ZC` が割り当てられています。

また、航空路線には `A` が、船便には `B` が割り当てられます。
鉄道路線ではありませんが、長距離を移動する手段として一元的に案内できる方が望ましいため定義されています。

### 路線コード割り当て事業者一覧

* H - harutrak (Harutrak)
* R - はるレール (haru Rail)
* X - はる急行鉄道 (haru eXpress)
* S - はる高速旅客鉄道 (Shinkansen)
* M - ムメイ高速鉄道 (Mumei highspeed railway)
* K - はる近郊鉄道 (haru Kinko railway)
* F - こむぎ娘レールウェイ (Flour railway)
* L - 東部環状鉄道 (eastern Loop railway)
* T - 筑波臨海高速鉄道 (Tsukuba waterfront area rapid transit)
* G - 竜ヶ崎臨海鉄道 (ryuGasaki rinkai railway)
* C - ささみ鉄道 (Chikuwa express)
* W - 比那名居電鉄 (hinanaWi electric railway)
* A - はる航空 (haru Airlines)
* B - 船便 (Boat)
* Z - その他

## 駅コード

駅コードは路線コードとは異なり、3文字すべてを用いて駅を表すように構成されています。
事業者から独立してコードが割り当てられるため、別の事業者の同じ駅には同じコードが割り当てられます。
建物がそれぞれ独立している場合でも、十分近隣にある場合(乗換可能な距離である場合)は同じコードを共有します。

事業者コードと同様先願主義であり、基本的には駅名を連想させる文字やそれに準ずる文字を用いて構成されますが、
重複しないように、または管理の都合上、これとは別のルールを用いている場合もあります。
その他、既存の駅から派生する駅は既存のコードと先頭2文字を同一にする傾向があります。

たとえば、明北には `MEH` (MEiHoku) が割り当てられています。また、宿木・北宿木・旧宿木・西宿木・元宿木には一括して
`YAA` `YAB` `YAC` `YAD` `YAE` が割り当てられています。
また、はる空港 `AAA` から派生する 空港北 には `AAN` が、 善通寺 `GEJ` から派生する 南善通寺 には `GES` が割り当てられています。

特殊なコードとして、 `AAA`(はる空港) や `HHH`(はるアイコン鯖役場) のように、同じアルファベットが3文字連続するコードは
複数の路線が乗り入れるハブの役割を果たしている大規模駅向けに予約されています。

新たに開業する駅は、駅コード割り当て済みの駅が近くに存在する場合は、基本的にはそのコードを共有します。
ただし、そのコードを共有する別の駅を経由する路線がその駅を経由しようとする場合には、別のコードを割り当てる必要があります。

たとえば、中野と旧地下鉄中野は非常に近い距離にありましたが、それぞれ`NAN` `NAC` と別々のコードが付与されていました。
これは、中野と旧地下鉄中野両方を経由する路線が存在したためです。(現在は `NAN` に統合されています)

### 完全修飾駅コード

特定の路線に所属する特定の駅を示す場合、完全修飾駅コードを用います。
これは、路線コードと駅コードを結合したもので、5文字のコードとなります。

たとえば、harutrak A線とharutrak B線の役場駅を示すときはそれぞれ `HAHHH` `HBHHH` となります。

また、完全修飾駅コードの駅名は駅コードの駅名と異なる場合があります。

たとえば、はる高速旅客鉄道 中央新幹線における コード`HHH` (はるアイコン鯖役場)の駅は
コード `SCHHH` (新役場) となっています。
